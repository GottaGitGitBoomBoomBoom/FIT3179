<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CO2 Emissions and Renewable Energy in Southeast Asia</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.2"></script>
</head>
<body>
    <h1>CO2 Emissions and Renewable Energy in Southeast Asia</h1>
    <h2>CO2 Emissions by Country (2000-2020)</h2>
    <div id="vis1"></div>

    <h2>Renewable Energy Capacity vs. Production by Country</h2>
    <div id="vis2"></div>

    <h2>CO2 Emissions by Sector</h2>
    <div id="vis3"></div>

    <h2>Regional Trends of CO2 Emissions from Manufacturing and Transport</h2>
    <div id="vis4"></div>

    <h2>Renewable Energy Capacity vs GDP per Capita by Group</h2>
    <div id="vis5"></div>

    <script type="text/javascript">
        // Visualization 1 - CO2 Emissions Map
        vegaEmbed('#vis1', {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "description": "CO2 Emissions by Country (2000-2020)",
            "width": 700,
            "height": 400,
            "projection": {"type": "equalEarth"},
            "layer": [
                {
                    "data": {
                        "url": "https://gist.githubusercontent.com/jrrickard/8755532505a40f3b8317/raw/ecd98849d3a5f4502b773b986254f19af3b8d8fb/oceans.topo.json",
                        "format": {"type": "topojson", "feature": "oceans"}
                    },
                    "mark": {"type": "geoshape", "fill": "skyblue"}
                },
                {
                    "data": {"graticule": true},
                    "mark": {"type": "geoshape", "stroke": "lightgray", "strokeWidth": 0.5}
                },
                {
                    "data": {
                        "url": "https://raw.githubusercontent.com/GottaGitGitBoomBoomBoom/FIT3179/refs/heads/main/ne_110m.json",
                        "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
                    },
                    "transform": [
                        {
                            "lookup": "properties.NAME",
                            "from": {
                                "data": {
                                    "url": "https://raw.githubusercontent.com/GottaGitGitBoomBoomBoom/FIT3179/refs/heads/main/CO2%20Emissions%20Data%20(metric%20tons%20per%20capita).csv",
                                    "format": {"type": "csv"}
                                },
                                "key": "Country Name",
                                "fields": [
                                    "2000", "2001", "2002", "2003", "2004", "2005",
                                    "2006", "2007", "2008", "2009", "2010", "2011",
                                    "2012", "2013", "2014", "2015", "2016", "2017",
                                    "2018", "2019", "2020"
                                ]
                            }
                        },
                        {"calculate": "datum['2020']", "as": "co2_emissions"}
                    ],
                    "mark": {"type": "geoshape"},
                    "encoding": {
                        "color": {
                            "field": "co2_emissions",
                            "type": "quantitative",
                            "scale": {
                                "domain": [0, 15],
                                "range": ["#fee5d9", "#fcae91", "#fb6a4a", "#de2d26", "#a50f15"]
                            },
                            "legend": {"title": "CO2 Emissions (Metric Tons)", "orient": "right", "offset": 20}
                        },
                        "tooltip": [
                            {"field": "properties.NAME", "type": "nominal", "title": "Country:"},
                            {"field": "co2_emissions", "type": "quantitative", "title": "CO2 Emissions:", "format": ".2f"}
                        ]
                    }
                }
            ]
        });

        // Visualization 2 - Renewable Energy Capacity vs Production by Country
        vegaEmbed('#vis2', {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "description": "Renewable Energy Capacity vs Production by Country",
            "data": {
                "values": [
                    {"Country": "Malaysia", "Year": 2014, "Renewable_Capacity": 21.6, "Renewable_Production": 9.9},
                    {"Country": "Indonesia", "Year": 2014, "Renewable_Capacity": 15.4, "Renewable_Production": 14.5},
                    // Add more data values here
                ]
            },
            "mark": "circle",
            "encoding": {
                "x": {"field": "Renewable_Capacity", "type": "quantitative", "title": "Renewable Energy Capacity (%MW)"},
                "y": {"field": "Renewable_Production", "type": "quantitative", "title": "Renewable Energy Production (%GWh)"},
                "size": {"field": "Renewable_Production", "type": "quantitative"},
                "color": {"field": "Country", "type": "nominal"},
                "tooltip": [
                    {"field": "Country", "type": "nominal"},
                    {"field": "Renewable_Capacity", "type": "quantitative", "title": "Capacity (%MW)"},
                    {"field": "Renewable_Production", "type": "quantitative", "title": "Production (%GWh)"}
                ]
            }
        });

        // Additional visualizations can be added here in a similar way.
    </script>
</body>
</html>
